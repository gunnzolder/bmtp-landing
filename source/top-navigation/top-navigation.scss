@import "../_base/imports/bootstrap";
@import "../_base/variables/variables";


$height: 60px;
$height-sticky: 60px;
$height-mobile: 60px;
$key-color: rgba(0,0,0,.8);

$block-name: "top-navigation";

.#{$block-name} {
  background-color: transparent;
  position: absolute;
  font-family: $base-font;
  transition: all .5s ease;
  height: $height-mobile;
  z-index: 1;
  width: 100%;
  @include make-col(12);

  &__container {
    @include make-container();
  }

  &__row {
    @include make-row();
  }

  &__logo {
    float: left;
    width: 200px;
    height: 60px;
    margin: 0;
    background-image: url(resources/logo-white.svg);
    background-size: cover;
    text-indent: -10000px;
    transition: width .2s ease, height .2s ease;
  }

  &__menu {
    display: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    clear: both;
    list-style-type: none;
    font-size: 1.1rem;
    position: static;
    right: 100%;
    height: 100%;
    @include make-col(12);
    background-color: $color-white;
    &__item {
      &__subtitle {
        width: 100%;
        font-size: 14px;
        color: #ccc;
        padding: 0 1rem;
        border-top: 1px solid #ccc;
        display: block;
      }
    }
    &__link {
      &.#{$block-name}__menu__link--highlighted:link {
        opacity:1;
      }
      &:link, &:visited {
        color: $key-color;
        text-decoration: none;
        display: block;
        padding: 1rem;
        background-color: white;
      }
    }

    &__select {
      color: $key-color;
      text-decoration: none;
      display: block;
      padding: 1rem;
      background-color: white;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      width: 100%;
      border: 0;
      border-radius: 0;
      font-size: 16px;
      &::after {
        display: inline-block;
        content: "âŒ„";
        font-size: 24px;
        line-height: 16px;
        padding-left: 10px;
      }
    }

    .language {
      position: relative;
      height: 100px;
      &__title {
        display: none;
      }
      &__item {
        color: #fff;
        line-height: 2;
        background-color: transparent;
        opacity: .6;
        cursor: pointer;
        &:hover {
          opacity: 1;
        }
        &--active {
          display: inline-block;
        }
      }
      &__arrow {
        display: inline-block;
        position: relative;
        top: 4px;
        width: 20px;
        height: 20px;
        transform: rotate(-90deg);
        path {
          fill: #fff;
          @extend .language__item;
        }
      }
      &__dropdown-menu {
        display: none;
        position: absolute;
        right: 0;
        background-color: #fff;
        border-radius: 4px;
        padding: 0.8rem 1rem;
        .language__item {
          opacity: 1;
        }
      }
      &__link {
        display: block;
        color: rgba(0,0,0,.8);
        width: 100%;
        height: 100%;
        text-decoration: none;
      }
    }
  }

  &--sticky {
    position: fixed;
    height: $height-sticky;
    background-color: $color-white;
    color: $color-gray-dark;
    .#{$block-name}{
      &__logo {
        background-image: url(resources/logo-color.svg);
      }
      &__menu {
        line-height: $height-sticky/3;
        &__link {
          &:link, &:visited {
            color: $key-color;
          }
          &:after {
            background: $key-color;
            bottom: 0;
          }
          &--active {
            //color: white;
            &:after {
              width: 80%;
            }
          }
        }
        &__dropdown__label {
          color: $key-color;
          .bmtp-svg-icon path {
            fill: $key-color;

          }
        }
      }
    }
  }

  &__mobile-nav {
    &__label {
      margin: 1.1rem 1rem 1.1rem auto;
      width: 1.5rem;
      height: 1.5rem;
      //position: fixed;
      right: 0;
      z-index: 2;
      //padding: .4rem;
      border-radius: .2rem;
      box-sizing: content-box;
    }
    &__navicon {
      &:before,
      &:after,
      & {
        content: "";
        display: block;
        width: 1.5rem;
        height: .2rem;
        border-radius: 1rem;
        //background: $color-white;
        background-color: #3254b8;

        float: left;
        transition: all .2s ease;
      }
      position: relative;
      margin-top: .6rem;

      &:before {
        position: absolute;
        top: -.5rem;
      }
      &:after {
        position: absolute;
        top: .5rem;
      }

      &--inversed {
        &:before,
        &:after,
        & {
          background: $key-color;
        }
      }


    }
    &__input {
      display: none;
      &:checked {
        ~ .#{$block-name}__mobile-nav__label {
          background-color: transparent;
          i {
            background-color: transparent;
            transition: none;
            &:before,
            &:after {
              background-color: $key-color;
              top: 0;
              transition: all .2s cubic-bezier(0.18, 0.89, 0.32, 1.28);
              height: .2rem;
              width: 1.5rem;
            }

            &:before {
              transform: rotate(45deg);
            }

            &:after {
              transform: rotate(-225deg);
            }
          }
        }
        ~ .#{$block-name}__menu {
          top: 0;
          right: 0;
          width: 100%;
          z-index: 1;
        }
      }
    }
  }
}


@media (max-width: breakpoint-min(md)) {
  .top-navigation {
    &__menu {
      .language {
        height: auto;
        &__item {
          display: none;
          color: rgba(0,0,0,.8);
          &--active {
            display: none;
          }
        }
        &__title {
          display: block;
          width: 100%;
          font-size: 14px;
          color: #ccc;
          padding: 0 1rem;
          border-top: 1px solid #ccc;
          display: block;
        }
        &__dropdown-menu {
          display: block;
          position: static;
          .language__item {
            display: block;
          }
        }
      }
    }
  }
}

@media (min-width: breakpoint-min(sm)) {
  .#{$block-name} {
  }
}


@media (min-width: breakpoint-min(md)) {
  .#{$block-name} {
  }
}

@media (min-width: breakpoint-min(lg)) {
  .#{$block-name} {
    width: 100%;
    height: $height;
    &__container {
      width: breakpoint-min(lg) - 4em;
    }
    &__mobile-nav {
      &__label {
        display: none;
      }
    }
    &__logo {
    }
    &__menu {
      display: block;
      max-height: 100rem;
      border-top: none;
      margin-left: auto;
      text-align: right;
      font-size: 1rem;
      position: static;
      background-color: transparent;
      @include make-col(8);
      &__mobile-dropdown {
        display: none;
      }

      &__dropdown {
        display: block;
        .bmtp-svg-icon {
          position: relative;
          top: 3px;
          display: inline-block;
          transform: rotate(-90deg);
          width: 17px;
          height: 17px;
          path {
            fill: white;
          }
        }
        &__label {
          display: block;
          padding: 1rem;
          color: $color-white;
          background-color: transparent;
          position: relative;
          opacity: .6;
          cursor: pointer;
          &:hover {
            opacity: 1;
          }
        }

        &__items {
          position: absolute;
          list-style-type: none;
          margin: 0;
          padding: 0;
          background-color: white;
          max-height:0;
          border-radius: 4px;
          overflow: hidden;
        }

        &__item {
          .#{$block-name}__menu__link {
            &:link, &:visited {
              color: $key-color;
              opacity:1;
            }
          }
        }

        &__input {
          display: none;
          &:checked ~ .#{$block-name}__menu__dropdown__items {
            max-height:1000px;
            transition: max-height .2s ease-in-out;
            box-shadow: 0px 2px 5px rgba(0,0,0,0.3);
          }
        }
      }
      &__item {
        display: inline-block;
        border: none;
        height: $height;
      }
      &__link {
        transition: all .1s ease;
        line-height:($height/2)-2px;
        &:link, &:visited {
          color: $color-white;
          background-color: transparent;
          position: relative;
          opacity: .6;
        }
        &:after {
          content: "";
          height: .2rem;
          width: 0;
          display: block;
          transition: width .2s ease;
          position: absolute;
          left: 10%;
          bottom: 0;
        }
        &:hover, &.#{$block-name}__menu__link--active {
          opacity: 1;
        }

      }
    }
  }
}


@media (min-width: breakpoint-min(xl)) {
  .#{$block-name} {

    &__container {
      width: breakpoint-min(xl) - 4em;
    }

  }
}
